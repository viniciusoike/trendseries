% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/augment_trends.R
\name{augment_trends}
\alias{augment_trends}
\title{Add trend columns to data frame}
\usage{
augment_trends(
  data,
  date_col = "date",
  value_col = "value",
  group_vars = NULL,
  methods = "hp",
  frequency = NULL,
  suffix = NULL,
  hp_lambda = NULL,
  bk_low = 6,
  bk_high = 32,
  cf_low = 6,
  cf_high = 32,
  ma_window = NULL,
  stl_s_window = NULL,
  loess_span = 0.75,
  spline_spar = NULL,
  poly_degree = 1,
  .quiet = FALSE
)
}
\arguments{
\item{data}{A \code{data.frame}, \code{tibble}, or \code{data.table}}

\item{date_col}{Name of the date column. Defaults to \code{"date"}. Must be of class \code{Date}.}

\item{value_col}{Name of the value column. Defaults to \code{"value"}. Must be \code{numeric}.}

\item{group_vars}{Optional grouping variables for multiple time series.
Can be a character vector of column names.}

\item{methods}{Character vector of trend methods. Options: \code{"hp"}, \code{"bk"}, \code{"cf"},
\code{"ma"}, \code{"stl"}, \code{"loess"}, \code{"spline"}, \code{"poly"}. Default is \code{"hp"}.}

\item{frequency}{The frequency of the series. Supports 4 (quarterly) or 12 (monthly).
Will be auto-detected if not specified.}

\item{suffix}{Optional suffix for trend column names. If NULL, uses method names.}

\item{hp_lambda}{Smoothing parameter for HP filter. If NULL, uses economic defaults
(1600 for quarterly, 14400 for monthly).}

\item{bk_low, bk_high}{Lower and upper bounds for Baxter-King filter (in periods).}

\item{cf_low, cf_high}{Lower and upper bounds for Christiano-Fitzgerald filter (in periods).}

\item{ma_window}{Window size for moving average. If NULL, uses frequency.}

\item{stl_s_window}{Seasonal window for STL. If NULL, uses "periodic".}

\item{loess_span}{Span parameter for loess smoother.}

\item{spline_spar}{Smoothing parameter for smooth.spline.}

\item{poly_degree}{Degree for polynomial trend.}

\item{.quiet}{If TRUE, suppress informational messages.}
}
\value{
A tibble with original data plus trend columns named \verb{trend_\{method\}} or
\verb{trend_\{method\}_\{suffix\}} if suffix is provided.
}
\description{
Pipe-friendly function that adds trend columns to a tibble or data.frame.
Designed for exploratory analysis of monthly and quarterly economic time series.
Supports multiple trend extraction methods and handles grouped data.
}
\details{
This function is designed for monthly (frequency = 12) and quarterly (frequency = 4)
economic data. It uses economic-appropriate defaults for all trend extraction methods.

For grouped data, the function applies trend extraction to each group separately,
maintaining the original data structure while adding trend columns.
}
\examples{
# Simple HP filter
gdp_brazil_qtr |> augment_trends()

# Multiple methods
gdp_brazil_qtr |>
  augment_trends(methods = c("hp", "bk", "ma"))

# Custom parameters
gdp_brazil_qtr |>
  augment_trends(
    methods = c("hp", "ma"),
    hp_lambda = 1000,
    ma_window = 8
  )

}
