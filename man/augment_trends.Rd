% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/augment_trends.R
\name{augment_trends}
\alias{augment_trends}
\title{Add trend columns to data frame}
\usage{
augment_trends(
  data,
  date_col = "date",
  value_col = "value",
  group_vars = NULL,
  methods = "hp",
  frequency = NULL,
  suffix = NULL,
  window = NULL,
  smoothing = NULL,
  band = NULL,
  params = list(),
  .quiet = FALSE
)
}
\arguments{
\item{data}{A \code{data.frame}, \code{tibble}, or \code{data.table} containing the time series data.}

\item{date_col}{\verb{[character(1)]} Name of the date column. Defaults to \code{"date"}.
Must be of class \code{Date}.}

\item{value_col}{\verb{[character(1)]} Name of the value column. Defaults to \code{"value"}.
Must be \code{numeric}.}

\item{group_vars}{\verb{[character()] | NULL} Optional grouping variables for multiple
time series. Can be a character vector of column names.}

\item{methods}{\verb{[character()]} Character vector of trend methods.
Options: \code{"hp"}, \code{"bk"}, \code{"cf"}, \code{"ma"}, \code{"stl"}, \code{"loess"}, \code{"spline"}, \code{"poly"},
\code{"bn"}, \code{"ucm"}, \code{"hamilton"}, \code{"exp_simple"}, \code{"exp_double"}, \code{"ewma"}, \code{"alma"},
\code{"dema"}, \code{"hma"}, \code{"sg"}, \code{"kernel"}, \code{"butter"}, \code{"kalman"}. Default is \code{"hp"}.}

\item{frequency}{\verb{[integer(1)] | NULL} The frequency of the series.
Supports 4 (quarterly) or 12 (monthly). Will be auto-detected if not specified.}

\item{suffix}{\verb{[character(1)] | NULL} Optional suffix for trend column names.
If NULL, uses method names.}

\item{window}{\verb{[numeric(1)] | NULL} Unified window/period parameter for moving
average methods. Must be positive.}

\item{smoothing}{\verb{[numeric(1)] | NULL} Unified smoothing parameter for smoothing methods.}

\item{band}{\verb{[numeric(2)] | NULL} Unified band parameter for bandpass filters
as \code{c(low, high)}. Both values must be positive.}

\item{params}{\verb{[list()]} Optional list of method-specific parameters for fine control.}

\item{.quiet}{\verb{[logical(1)]} If \code{TRUE}, suppress informational messages.}
}
\value{
A tibble with original data plus trend columns named \verb{trend_\{method\}} or
\verb{trend_\{method\}_\{suffix\}} if suffix is provided.
}
\description{
Pipe-friendly function that adds trend columns to a tibble or data.frame.
Designed for exploratory analysis of monthly and quarterly economic time series.
Supports multiple trend extraction methods and handles grouped data.
}
\details{
This function is designed for monthly (frequency = 12) and quarterly (frequency = 4)
economic data. It uses economic-appropriate defaults for all trend extraction methods.

For grouped data, the function applies trend extraction to each group separately,
maintaining the original data structure while adding trend columns.
}
\examples{
# Simple HP filter on quarterly GDP construction data
gdp_construction |> augment_trends(value_col = "gdp_construction")

# Multiple smoothing methods with unified parameter
gdp_construction |>
  augment_trends(
    value_col = "gdp_construction",
    methods = c("hp", "loess", "ewma"),
    smoothing = 0.3
  )

# Moving averages with unified window on monthly data
vehicles |>
  tail(60) |>
  augment_trends(
    value_col = "vehicles",
    methods = c("ma", "dema", "hma"),
    window = 8
  )

# Economic indicators with different methods
ibcbr |>
  tail(48) |>
  augment_trends(
    value_col = "ibcbr",
    methods = c("sg", "kalman", "kernel"),
    window = 9,
    smoothing = 0.15
  )

# Advanced: fine-tune specific methods
electric |>
  tail(72) |>
  augment_trends(
    value_col = "electric",
    methods = "sg",
    window = 7,
    params = list(sg_poly_order = 3)
  )

}
