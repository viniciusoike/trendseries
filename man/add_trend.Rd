% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/series_trend.R
\name{add_trend}
\alias{add_trend}
\title{Add series trend}
\usage{
add_trend(
  x,
  date_colname = "date",
  value_colname = "value",
  frequency = 12,
  trend = "all",
  poly_k = 1,
  window_ma = NULL,
  window_stl = 13,
  lambda_hp = 1600,
  ...
)
}
\arguments{
\item{x}{A \code{data.frame}, \code{tibble} or \code{data.table}.}

\item{date_colname}{Name of the date column. Defaults to \code{'date'}. Must be of class \code{Date}.}

\item{value_colname}{Name of the value column. Defaults to \code{'value'}. Must be \code{numeric}.}

\item{frequency}{The frequency of the series. Can be a shortened string (e.g. "M" for monthly) or a number (e.g. 12).}

\item{trend}{Method to extract trend from series. Must be one of \code{hp}, \code{ma}, \code{poly}, \code{stl}, or \code{all} (default).}

\item{poly_k}{Order of the polynomial trend.}

\item{window_ma}{Size of the MA filter window (e.g. 5 for 5-period MA).}

\item{window_stl}{Size of the seasonal window parameter in STL. Equivalent to \code{s.window}.}

\item{lambda_hp}{Value of the smoothing parameter for the HP Filter. Defaults to 1600.}

\item{...}{Additional arguments sent to trending methods.}
}
\value{
A \code{data.frame} containing an extra column named \verb{trend_*}.
}
\description{
Adds a column with the trend of a series to a \code{data.frame} type object.
}
\details{
This function extracts the trend of a time series and returns it as an additional
column in the original \code{data.frame}. There are three options

The \code{trend} argument can be one of: \code{hp}, \code{ma}, \code{poly}, \code{stl},
or \code{all}
}
\examples{

# All trends available
add_trend(gdp_brazil_qtr, trend = "all")

# Automatically selects a 2x4 MA window
gdp_ma <- add_trend(gdp_brazil_qtr, trend = "ma", frequency = 4)
# Select a different window
gdp_ma <- add_trend(gdp_brazil_qtr, trend = "ma", frequency = 4, window_ma = 11)
}
